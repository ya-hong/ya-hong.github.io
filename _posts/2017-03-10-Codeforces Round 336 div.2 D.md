---
layout: post
title: Codeforces Round 336 div.2 D. Zuma
date: 2017-3-10
tags:  Codeforces dp
header-img: images/cover/2.jpg
author: yanghong
---

### 题目：http://codeforces.com/contest/608/problem/D

### 题意：
小C最近在他的手机上安装了游戏Zuma，存在一行$n$个宝石，其中第$i$个具有颜色$c_i$。游戏的目标是尽快销毁所有的宝石。

在一秒钟内，小C能够选择一个连续的彩色宝石子串，它是一个回文，并从线上删除。在子串被移除之后，剩余的宝石再次移动补上空位。问销毁整条线所需的最小秒数是多少？

<!--more-->

### 题解:

其实就是在能够被删除的情况下划分成最少的可以不连接的回文串，并且，只要找出的回文串两两之间都是包含，被包含或者是不相交的，那么就是可以删除的。

假设有一个内部包含小回文串的大回文串。从外向里不断剥除大回文串的两端，这个串最终会变成大回文串的子回文串和小回文串。那么我们就可以知道只要操作两次就可以了，第一次删除被分离出来的小回文串，第二次把被剥除的大回文串的两端和大回文串的子回文串一起删除。

推广到普通情况，假设有一个串。那么在最优的划分情况下，有两种情况：它的外部可能一个大回文串的一部分，或者，它是几个并列的串。第一种情况，就剥除两端，然后变成一个小串递归考虑。第二种情况，把它拆成两个串递归考虑。最后到达递归边界的时候，就找到了最少回文串个数。这样就可以用dp做了。

### 代码：http://codeforces.com/contest/608/submission/24870391